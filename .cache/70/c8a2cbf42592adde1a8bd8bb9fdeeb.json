{"id":"0zy3","dependencies":[{"name":"/home/tonicblue/code/scvo/sites/package.json","includedInParent":true,"mtime":1549295221177},{"name":"@material/textfield/icon","loc":{"line":1,"column":31},"parent":"/home/tonicblue/code/scvo/sites/lib/components/location-box.js","resolved":"/home/tonicblue/code/scvo/sites/node_modules/@material/textfield/icon/index.js"},{"name":"typeahead.js/dist/typeahead.jquery.min.js","loc":{"line":5,"column":8},"parent":"/home/tonicblue/code/scvo/sites/lib/components/location-box.js","resolved":"/home/tonicblue/code/scvo/sites/node_modules/typeahead.js/dist/typeahead.jquery.min.js"},{"name":"typeahead.js/dist/bloodhound.min.js","loc":{"line":6,"column":27},"parent":"/home/tonicblue/code/scvo/sites/lib/components/location-box.js","resolved":"/home/tonicblue/code/scvo/sites/node_modules/typeahead.js/dist/bloodhound.min.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LocationBoxComponent=void 0;var t=require(\"@material/textfield/icon\");function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function a(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}require(\"typeahead.js/dist/typeahead.jquery.min.js\");var n=require(\"typeahead.js/dist/bloodhound.min.js\"),i=function(){function o(a){var i=this;e(this,o),this.textbox=$(a),this.config=this.textbox.data(\"location-search\"),this.lat=$(this.config.latSelector),this.lng=$(this.config.lngSelector),this.la=$(this.config.laSelector),this.ls=$(this.config.locationServicesSelector),this.icon=new t.MDCTextFieldIcon(this.ls[0]),this.defaultOption=null,this.bloodhound=new n({datumTokenizer:n.tokenizers.obj.whitespace(\"value\"),queryTokenizer:n.tokenizers.whitespace,remote:{url:\"/geo-lookup?q=%QUERY\",wildcard:\"%QUERY\",transform:function(t){return i.defaultOption=Array.isArray(t)&&t.length>0?t[0]:null,t}}}),this.textbox.typeahead(null,{name:\"location\",display:\"display\",source:this.bloodhound}),this.textbox.on(\"typeahead:select\",function(t,e){i.autocompleted=!0,console.log(\"typeahead:select\",t,e),i.typeaheadSelect(t,e)}).on(\"typeahead:autocomplete\",function(t,e){i.autocompleted=!0,console.log(\"typeahead:autocomplete\",t,e),i.typeaheadSelect(t,e)}).on(\"blur\",function(t){var e=i.textbox.parent().find(\".tt-open\").length>0&&0===i.textbox.parent().find(\".tt-empty\").length;console.log(\"Menu open\",e),i.autocompleted?t.preventDefault():e&&i.defaultOption&&(t.preventDefault(),i.typeaheadSelect(t,i.defaultOption)),i.autocompleted=!1}).on(\"keydown\",function(t){switch(t.keyCode){case 9:case 13:var e=i.textbox.parent().find(\".tt-open\").length>0&&0===i.textbox.parent().find(\".tt-empty\").length;console.log(\"Menu open\",e),i.autocompleted?t.preventDefault():e&&i.defaultOption&&(t.preventDefault(),i.typeaheadSelect(t,i.defaultOption))}i.autocompleted=!1});var l=this;this.ls.css(\"z-index\",500).on(\"click\",function(t){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o=e.coords.latitude,a=e.coords.longitude,n={display:o+\",\"+a,la:\"\",point:{lat:o,lon:a}},i=\"https://api.postcodes.io/outcodes?lat=\"+o+\"&lon=\"+a;$.getJSON(i,function(e){if(e.result&&0!==e.result.length){var o=e.result[0];n.display=o.admin_district&&o.admin_district[0]||o.outcode||o.country&&o.country[0]||\"Current location\",n.display=n.display.replace(\" City\",\"\").replace(\"City of \",\"\"),n.district=o.admin_district[0].replace(\" City\",\"\").replace(\"City of \",\"\"),l.typeaheadSelect(t,n)}})})})}return a(o,[{key:\"typeaheadSelect\",value:function(t,e){e&&e.point&&e.point.lat?(this.textbox.typeahead(\"val\",e.display),this.lat.val(e.point.lat),this.lng.val(e.point.lon),this.la.val(e.district)):(this.textbox.typeahead(\"val\",\"\"),this.lat.val(\"\"),this.lng.val(\"\"),this.la.val(\"\")),this.textbox.typeahead(\"close\")}}]),o}();exports.LocationBoxComponent=i;","map":{"mappings":[{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":0}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":13}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":20}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":35}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":43}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":56}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":57}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":64}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":68}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":76}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":102}},{"source":"../../lib/components/location-box.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"../../lib/components/location-box.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"../../lib/components/location-box.js","original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"../../lib/components/location-box.js","original":{"line":1,"column":0},"generated":{"line":1,"column":118}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":146}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":155}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":157}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":159}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":162}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":167}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":180}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":183}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":189}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":193}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":203}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":240}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":249}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":251}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":253}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":256}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":260}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":264}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":266}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":268}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":270}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":272}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":279}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":283}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":284}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":288}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":290}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":292}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":295}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":297}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":308}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":310}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":323}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":325}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":327}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":341}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":343}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":353}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":357}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":359}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":369}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":372}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":379}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":394}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":396}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":398}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":402}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":406}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":415}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":417}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":419}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":421}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":424}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":431}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":434}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":436}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":438}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":448}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":451}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":454}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":456}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":458}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":461}},{"source":"../../lib/components/location-box.js","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":463}},{"source":"../../lib/components/location-box.js","original":{"line":5,"column":8},"generated":{"line":1,"column":471}},{"source":"../../lib/components/location-box.js","original":{"line":6,"column":0},"generated":{"line":1,"column":516}},{"source":"../../lib/components/location-box.js","name":"Bloodhound","original":{"line":6,"column":6},"generated":{"line":1,"column":520}},{"source":"../../lib/components/location-box.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":522}},{"source":"../../lib/components/location-box.js","original":{"line":6,"column":27},"generated":{"line":1,"column":530}},{"source":"../../lib/components/location-box.js","name":"LocationBoxComponent","original":{"line":8,"column":13},"generated":{"line":1,"column":569}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":571}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":9,"column":14},"generated":{"line":1,"column":582}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":9,"column":14},"generated":{"line":1,"column":591}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":9,"column":14},"generated":{"line":1,"column":593}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":596}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":600}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":602}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":607}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":609}},{"source":"../../lib/components/location-box.js","original":{"line":9,"column":23},"generated":{"line":1,"column":614}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":10,"column":9},"generated":{"line":1,"column":617}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":10,"column":9},"generated":{"line":1,"column":622}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":10,"column":19},"generated":{"line":1,"column":630}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":10,"column":21},"generated":{"line":1,"column":632}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":11,"column":9},"generated":{"line":1,"column":635}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":11,"column":9},"generated":{"line":1,"column":640}},{"source":"../../lib/components/location-box.js","original":{"line":11,"column":18},"generated":{"line":1,"column":647}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":11,"column":23},"generated":{"line":1,"column":652}},{"source":"../../lib/components/location-box.js","name":"data","original":{"line":11,"column":31},"generated":{"line":1,"column":660}},{"source":"../../lib/components/location-box.js","original":{"line":11,"column":36},"generated":{"line":1,"column":665}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":12,"column":9},"generated":{"line":1,"column":684}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":12,"column":9},"generated":{"line":1,"column":689}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":12,"column":15},"generated":{"line":1,"column":693}},{"source":"../../lib/components/location-box.js","original":{"line":12,"column":17},"generated":{"line":1,"column":695}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":12,"column":22},"generated":{"line":1,"column":700}},{"source":"../../lib/components/location-box.js","name":"latSelector","original":{"line":12,"column":29},"generated":{"line":1,"column":707}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":13,"column":9},"generated":{"line":1,"column":720}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":13,"column":9},"generated":{"line":1,"column":725}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":13,"column":15},"generated":{"line":1,"column":729}},{"source":"../../lib/components/location-box.js","original":{"line":13,"column":17},"generated":{"line":1,"column":731}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":13,"column":22},"generated":{"line":1,"column":736}},{"source":"../../lib/components/location-box.js","name":"lngSelector","original":{"line":13,"column":29},"generated":{"line":1,"column":743}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":14,"column":9},"generated":{"line":1,"column":756}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":14,"column":9},"generated":{"line":1,"column":761}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":14,"column":14},"generated":{"line":1,"column":764}},{"source":"../../lib/components/location-box.js","original":{"line":14,"column":16},"generated":{"line":1,"column":766}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":14,"column":21},"generated":{"line":1,"column":771}},{"source":"../../lib/components/location-box.js","name":"laSelector","original":{"line":14,"column":28},"generated":{"line":1,"column":778}},{"source":"../../lib/components/location-box.js","name":"ls","original":{"line":15,"column":9},"generated":{"line":1,"column":790}},{"source":"../../lib/components/location-box.js","name":"ls","original":{"line":15,"column":9},"generated":{"line":1,"column":795}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":15,"column":14},"generated":{"line":1,"column":798}},{"source":"../../lib/components/location-box.js","original":{"line":15,"column":16},"generated":{"line":1,"column":800}},{"source":"../../lib/components/location-box.js","name":"config","original":{"line":15,"column":21},"generated":{"line":1,"column":805}},{"source":"../../lib/components/location-box.js","name":"locationServicesSelector","original":{"line":15,"column":28},"generated":{"line":1,"column":812}},{"source":"../../lib/components/location-box.js","name":"icon","original":{"line":17,"column":9},"generated":{"line":1,"column":838}},{"source":"../../lib/components/location-box.js","name":"icon","original":{"line":17,"column":9},"generated":{"line":1,"column":843}},{"source":"../../lib/components/location-box.js","original":{"line":17,"column":16},"generated":{"line":1,"column":848}},{"source":"../../lib/components/location-box.js","name":"MDCTextFieldIcon","original":{"line":17,"column":20},"generated":{"line":1,"column":852}},{"source":"../../lib/components/location-box.js","original":{"line":17,"column":16},"generated":{"line":1,"column":854}},{"source":"../../lib/components/location-box.js","original":{"line":17,"column":37},"generated":{"line":1,"column":871}},{"source":"../../lib/components/location-box.js","name":"ls","original":{"line":17,"column":42},"generated":{"line":1,"column":876}},{"source":"../../lib/components/location-box.js","original":{"line":17,"column":45},"generated":{"line":1,"column":879}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":18,"column":9},"generated":{"line":1,"column":883}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":18,"column":9},"generated":{"line":1,"column":888}},{"source":"../../lib/components/location-box.js","original":{"line":18,"column":25},"generated":{"line":1,"column":902}},{"source":"../../lib/components/location-box.js","name":"bloodhound","original":{"line":20,"column":9},"generated":{"line":1,"column":907}},{"source":"../../lib/components/location-box.js","name":"bloodhound","original":{"line":20,"column":9},"generated":{"line":1,"column":912}},{"source":"../../lib/components/location-box.js","original":{"line":20,"column":22},"generated":{"line":1,"column":923}},{"source":"../../lib/components/location-box.js","name":"Bloodhound","original":{"line":20,"column":26},"generated":{"line":1,"column":927}},{"source":"../../lib/components/location-box.js","original":{"line":20,"column":37},"generated":{"line":1,"column":929}},{"source":"../../lib/components/location-box.js","name":"datumTokenizer","original":{"line":21,"column":6},"generated":{"line":1,"column":930}},{"source":"../../lib/components/location-box.js","name":"Bloodhound","original":{"line":21,"column":22},"generated":{"line":1,"column":945}},{"source":"../../lib/components/location-box.js","name":"tokenizers","original":{"line":21,"column":33},"generated":{"line":1,"column":947}},{"source":"../../lib/components/location-box.js","name":"obj","original":{"line":21,"column":44},"generated":{"line":1,"column":958}},{"source":"../../lib/components/location-box.js","name":"whitespace","original":{"line":21,"column":48},"generated":{"line":1,"column":962}},{"source":"../../lib/components/location-box.js","original":{"line":21,"column":59},"generated":{"line":1,"column":973}},{"source":"../../lib/components/location-box.js","name":"queryTokenizer","original":{"line":22,"column":6},"generated":{"line":1,"column":982}},{"source":"../../lib/components/location-box.js","name":"Bloodhound","original":{"line":22,"column":22},"generated":{"line":1,"column":997}},{"source":"../../lib/components/location-box.js","name":"tokenizers","original":{"line":22,"column":33},"generated":{"line":1,"column":999}},{"source":"../../lib/components/location-box.js","name":"whitespace","original":{"line":22,"column":44},"generated":{"line":1,"column":1010}},{"source":"../../lib/components/location-box.js","name":"remote","original":{"line":23,"column":6},"generated":{"line":1,"column":1021}},{"source":"../../lib/components/location-box.js","original":{"line":23,"column":14},"generated":{"line":1,"column":1028}},{"source":"../../lib/components/location-box.js","name":"url","original":{"line":24,"column":8},"generated":{"line":1,"column":1029}},{"source":"../../lib/components/location-box.js","original":{"line":24,"column":13},"generated":{"line":1,"column":1033}},{"source":"../../lib/components/location-box.js","name":"wildcard","original":{"line":25,"column":8},"generated":{"line":1,"column":1056}},{"source":"../../lib/components/location-box.js","original":{"line":25,"column":18},"generated":{"line":1,"column":1065}},{"source":"../../lib/components/location-box.js","name":"transform","original":{"line":26,"column":8},"generated":{"line":1,"column":1074}},{"source":"../../lib/components/location-box.js","original":{"line":26,"column":19},"generated":{"line":1,"column":1084}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":26,"column":20},"generated":{"line":1,"column":1093}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":28,"column":17},"generated":{"line":1,"column":1096}},{"source":"../../lib/components/location-box.js","original":{"line":27,"column":10},"generated":{"line":1,"column":1103}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":27,"column":15},"generated":{"line":1,"column":1105}},{"source":"../../lib/components/location-box.js","name":"Array","original":{"line":27,"column":32},"generated":{"line":1,"column":1119}},{"source":"../../lib/components/location-box.js","name":"isArray","original":{"line":27,"column":38},"generated":{"line":1,"column":1125}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":27,"column":46},"generated":{"line":1,"column":1133}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":27,"column":54},"generated":{"line":1,"column":1137}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":27,"column":58},"generated":{"line":1,"column":1139}},{"source":"../../lib/components/location-box.js","original":{"line":27,"column":67},"generated":{"line":1,"column":1146}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":27,"column":72},"generated":{"line":1,"column":1148}},{"source":"../../lib/components/location-box.js","original":{"line":27,"column":76},"generated":{"line":1,"column":1150}},{"source":"../../lib/components/location-box.js","original":{"line":27,"column":81},"generated":{"line":1,"column":1153}},{"source":"../../lib/components/location-box.js","name":"res","original":{"line":28,"column":17},"generated":{"line":1,"column":1158}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":33,"column":9},"generated":{"line":1,"column":1164}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":33,"column":9},"generated":{"line":1,"column":1169}},{"source":"../../lib/components/location-box.js","name":"typeahead","original":{"line":33,"column":17},"generated":{"line":1,"column":1177}},{"source":"../../lib/components/location-box.js","original":{"line":33,"column":27},"generated":{"line":1,"column":1187}},{"source":"../../lib/components/location-box.js","original":{"line":33,"column":33},"generated":{"line":1,"column":1192}},{"source":"../../lib/components/location-box.js","name":"name","original":{"line":34,"column":6},"generated":{"line":1,"column":1193}},{"source":"../../lib/components/location-box.js","original":{"line":34,"column":12},"generated":{"line":1,"column":1198}},{"source":"../../lib/components/location-box.js","name":"display","original":{"line":35,"column":6},"generated":{"line":1,"column":1209}},{"source":"../../lib/components/location-box.js","original":{"line":35,"column":15},"generated":{"line":1,"column":1217}},{"source":"../../lib/components/location-box.js","name":"source","original":{"line":36,"column":6},"generated":{"line":1,"column":1227}},{"source":"../../lib/components/location-box.js","original":{"line":36,"column":14},"generated":{"line":1,"column":1234}},{"source":"../../lib/components/location-box.js","name":"bloodhound","original":{"line":36,"column":19},"generated":{"line":1,"column":1239}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":39,"column":9},"generated":{"line":1,"column":1252}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":39,"column":9},"generated":{"line":1,"column":1257}},{"source":"../../lib/components/location-box.js","name":"on","original":{"line":40,"column":7},"generated":{"line":1,"column":1265}},{"source":"../../lib/components/location-box.js","original":{"line":40,"column":10},"generated":{"line":1,"column":1268}},{"source":"../../lib/components/location-box.js","original":{"line":40,"column":30},"generated":{"line":1,"column":1287}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":40,"column":31},"generated":{"line":1,"column":1296}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":40,"column":35},"generated":{"line":1,"column":1298}},{"source":"../../lib/components/location-box.js","original":{"line":41,"column":8},"generated":{"line":1,"column":1301}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":41,"column":13},"generated":{"line":1,"column":1303}},{"source":"../../lib/components/location-box.js","original":{"line":41,"column":29},"generated":{"line":1,"column":1318}},{"source":"../../lib/components/location-box.js","name":"console","original":{"line":42,"column":8},"generated":{"line":1,"column":1320}},{"source":"../../lib/components/location-box.js","name":"log","original":{"line":42,"column":16},"generated":{"line":1,"column":1328}},{"source":"../../lib/components/location-box.js","original":{"line":42,"column":20},"generated":{"line":1,"column":1332}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":42,"column":40},"generated":{"line":1,"column":1351}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":42,"column":44},"generated":{"line":1,"column":1353}},{"source":"../../lib/components/location-box.js","original":{"line":43,"column":8},"generated":{"line":1,"column":1356}},{"source":"../../lib/components/location-box.js","name":"typeaheadSelect","original":{"line":43,"column":13},"generated":{"line":1,"column":1358}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":43,"column":29},"generated":{"line":1,"column":1374}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":43,"column":33},"generated":{"line":1,"column":1376}},{"source":"../../lib/components/location-box.js","name":"on","original":{"line":45,"column":7},"generated":{"line":1,"column":1381}},{"source":"../../lib/components/location-box.js","original":{"line":45,"column":10},"generated":{"line":1,"column":1384}},{"source":"../../lib/components/location-box.js","original":{"line":45,"column":36},"generated":{"line":1,"column":1409}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":45,"column":37},"generated":{"line":1,"column":1418}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":45,"column":41},"generated":{"line":1,"column":1420}},{"source":"../../lib/components/location-box.js","original":{"line":46,"column":8},"generated":{"line":1,"column":1423}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":46,"column":13},"generated":{"line":1,"column":1425}},{"source":"../../lib/components/location-box.js","original":{"line":46,"column":29},"generated":{"line":1,"column":1440}},{"source":"../../lib/components/location-box.js","name":"console","original":{"line":47,"column":8},"generated":{"line":1,"column":1442}},{"source":"../../lib/components/location-box.js","name":"log","original":{"line":47,"column":16},"generated":{"line":1,"column":1450}},{"source":"../../lib/components/location-box.js","original":{"line":47,"column":20},"generated":{"line":1,"column":1454}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":47,"column":46},"generated":{"line":1,"column":1479}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":47,"column":50},"generated":{"line":1,"column":1481}},{"source":"../../lib/components/location-box.js","original":{"line":48,"column":8},"generated":{"line":1,"column":1484}},{"source":"../../lib/components/location-box.js","name":"typeaheadSelect","original":{"line":48,"column":13},"generated":{"line":1,"column":1486}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":48,"column":29},"generated":{"line":1,"column":1502}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":48,"column":33},"generated":{"line":1,"column":1504}},{"source":"../../lib/components/location-box.js","name":"on","original":{"line":50,"column":7},"generated":{"line":1,"column":1509}},{"source":"../../lib/components/location-box.js","original":{"line":50,"column":10},"generated":{"line":1,"column":1512}},{"source":"../../lib/components/location-box.js","original":{"line":50,"column":18},"generated":{"line":1,"column":1519}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":50,"column":19},"generated":{"line":1,"column":1528}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":51,"column":12},"generated":{"line":1,"column":1531}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":51,"column":12},"generated":{"line":1,"column":1535}},{"source":"../../lib/components/location-box.js","original":{"line":52,"column":10},"generated":{"line":1,"column":1537}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":52,"column":15},"generated":{"line":1,"column":1539}},{"source":"../../lib/components/location-box.js","name":"parent","original":{"line":52,"column":23},"generated":{"line":1,"column":1547}},{"source":"../../lib/components/location-box.js","name":"find","original":{"line":52,"column":32},"generated":{"line":1,"column":1556}},{"source":"../../lib/components/location-box.js","original":{"line":52,"column":37},"generated":{"line":1,"column":1561}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":52,"column":49},"generated":{"line":1,"column":1573}},{"source":"../../lib/components/location-box.js","original":{"line":52,"column":58},"generated":{"line":1,"column":1580}},{"source":"../../lib/components/location-box.js","original":{"line":53,"column":61},"generated":{"line":1,"column":1583}},{"source":"../../lib/components/location-box.js","original":{"line":53,"column":10},"generated":{"line":1,"column":1587}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":53,"column":15},"generated":{"line":1,"column":1589}},{"source":"../../lib/components/location-box.js","name":"parent","original":{"line":53,"column":23},"generated":{"line":1,"column":1597}},{"source":"../../lib/components/location-box.js","name":"find","original":{"line":53,"column":32},"generated":{"line":1,"column":1606}},{"source":"../../lib/components/location-box.js","original":{"line":53,"column":37},"generated":{"line":1,"column":1611}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":53,"column":50},"generated":{"line":1,"column":1624}},{"source":"../../lib/components/location-box.js","name":"console","original":{"line":54,"column":8},"generated":{"line":1,"column":1631}},{"source":"../../lib/components/location-box.js","name":"log","original":{"line":54,"column":16},"generated":{"line":1,"column":1639}},{"source":"../../lib/components/location-box.js","original":{"line":54,"column":20},"generated":{"line":1,"column":1643}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":54,"column":33},"generated":{"line":1,"column":1655}},{"source":"../../lib/components/location-box.js","original":{"line":55,"column":12},"generated":{"line":1,"column":1658}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":55,"column":17},"generated":{"line":1,"column":1660}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":56,"column":10},"generated":{"line":1,"column":1674}},{"source":"../../lib/components/location-box.js","name":"preventDefault","original":{"line":56,"column":13},"generated":{"line":1,"column":1676}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":57,"column":19},"generated":{"line":1,"column":1693}},{"source":"../../lib/components/location-box.js","original":{"line":57,"column":31},"generated":{"line":1,"column":1696}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":57,"column":36},"generated":{"line":1,"column":1698}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":58,"column":10},"generated":{"line":1,"column":1714}},{"source":"../../lib/components/location-box.js","name":"preventDefault","original":{"line":58,"column":13},"generated":{"line":1,"column":1716}},{"source":"../../lib/components/location-box.js","original":{"line":59,"column":10},"generated":{"line":1,"column":1733}},{"source":"../../lib/components/location-box.js","name":"typeaheadSelect","original":{"line":59,"column":15},"generated":{"line":1,"column":1735}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":59,"column":31},"generated":{"line":1,"column":1751}},{"source":"../../lib/components/location-box.js","original":{"line":59,"column":35},"generated":{"line":1,"column":1753}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":59,"column":40},"generated":{"line":1,"column":1755}},{"source":"../../lib/components/location-box.js","original":{"line":61,"column":8},"generated":{"line":1,"column":1771}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":61,"column":13},"generated":{"line":1,"column":1773}},{"source":"../../lib/components/location-box.js","original":{"line":61,"column":29},"generated":{"line":1,"column":1788}},{"source":"../../lib/components/location-box.js","name":"on","original":{"line":63,"column":7},"generated":{"line":1,"column":1792}},{"source":"../../lib/components/location-box.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1795}},{"source":"../../lib/components/location-box.js","original":{"line":63,"column":21},"generated":{"line":1,"column":1805}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":63,"column":22},"generated":{"line":1,"column":1814}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":64,"column":16},"generated":{"line":1,"column":1817}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":64,"column":16},"generated":{"line":1,"column":1824}},{"source":"../../lib/components/location-box.js","name":"keyCode","original":{"line":64,"column":19},"generated":{"line":1,"column":1826}},{"source":"../../lib/components/location-box.js","original":{"line":65,"column":16},"generated":{"line":1,"column":1835}},{"source":"../../lib/components/location-box.js","original":{"line":65,"column":16},"generated":{"line":1,"column":1840}},{"source":"../../lib/components/location-box.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1842}},{"source":"../../lib/components/location-box.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1847}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":78,"column":16},"generated":{"line":1,"column":1850}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":78,"column":16},"generated":{"line":1,"column":1854}},{"source":"../../lib/components/location-box.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1856}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":79,"column":19},"generated":{"line":1,"column":1858}},{"source":"../../lib/components/location-box.js","name":"parent","original":{"line":79,"column":27},"generated":{"line":1,"column":1866}},{"source":"../../lib/components/location-box.js","name":"find","original":{"line":79,"column":36},"generated":{"line":1,"column":1875}},{"source":"../../lib/components/location-box.js","original":{"line":79,"column":41},"generated":{"line":1,"column":1880}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":79,"column":53},"generated":{"line":1,"column":1892}},{"source":"../../lib/components/location-box.js","original":{"line":79,"column":62},"generated":{"line":1,"column":1899}},{"source":"../../lib/components/location-box.js","original":{"line":80,"column":65},"generated":{"line":1,"column":1902}},{"source":"../../lib/components/location-box.js","original":{"line":80,"column":14},"generated":{"line":1,"column":1906}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":80,"column":19},"generated":{"line":1,"column":1908}},{"source":"../../lib/components/location-box.js","name":"parent","original":{"line":80,"column":27},"generated":{"line":1,"column":1916}},{"source":"../../lib/components/location-box.js","name":"find","original":{"line":80,"column":36},"generated":{"line":1,"column":1925}},{"source":"../../lib/components/location-box.js","original":{"line":80,"column":41},"generated":{"line":1,"column":1930}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":80,"column":54},"generated":{"line":1,"column":1943}},{"source":"../../lib/components/location-box.js","name":"console","original":{"line":81,"column":12},"generated":{"line":1,"column":1950}},{"source":"../../lib/components/location-box.js","name":"log","original":{"line":81,"column":20},"generated":{"line":1,"column":1958}},{"source":"../../lib/components/location-box.js","original":{"line":81,"column":24},"generated":{"line":1,"column":1962}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":81,"column":37},"generated":{"line":1,"column":1974}},{"source":"../../lib/components/location-box.js","original":{"line":82,"column":16},"generated":{"line":1,"column":1977}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":82,"column":21},"generated":{"line":1,"column":1979}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":83,"column":14},"generated":{"line":1,"column":1993}},{"source":"../../lib/components/location-box.js","name":"preventDefault","original":{"line":83,"column":17},"generated":{"line":1,"column":1995}},{"source":"../../lib/components/location-box.js","name":"menuOpen","original":{"line":84,"column":23},"generated":{"line":1,"column":2012}},{"source":"../../lib/components/location-box.js","original":{"line":84,"column":35},"generated":{"line":1,"column":2015}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":84,"column":40},"generated":{"line":1,"column":2017}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":85,"column":14},"generated":{"line":1,"column":2033}},{"source":"../../lib/components/location-box.js","name":"preventDefault","original":{"line":85,"column":17},"generated":{"line":1,"column":2035}},{"source":"../../lib/components/location-box.js","original":{"line":86,"column":14},"generated":{"line":1,"column":2052}},{"source":"../../lib/components/location-box.js","name":"typeaheadSelect","original":{"line":86,"column":19},"generated":{"line":1,"column":2054}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":86,"column":35},"generated":{"line":1,"column":2070}},{"source":"../../lib/components/location-box.js","original":{"line":86,"column":39},"generated":{"line":1,"column":2072}},{"source":"../../lib/components/location-box.js","name":"defaultOption","original":{"line":86,"column":44},"generated":{"line":1,"column":2074}},{"source":"../../lib/components/location-box.js","original":{"line":90,"column":8},"generated":{"line":1,"column":2090}},{"source":"../../lib/components/location-box.js","name":"autocompleted","original":{"line":90,"column":13},"generated":{"line":1,"column":2092}},{"source":"../../lib/components/location-box.js","original":{"line":90,"column":29},"generated":{"line":1,"column":2107}},{"source":"../../lib/components/location-box.js","name":"comp","original":{"line":93,"column":10},"generated":{"line":1,"column":2111}},{"source":"../../lib/components/location-box.js","name":"comp","original":{"line":93,"column":10},"generated":{"line":1,"column":2115}},{"source":"../../lib/components/location-box.js","original":{"line":93,"column":17},"generated":{"line":1,"column":2117}},{"source":"../../lib/components/location-box.js","name":"ls","original":{"line":95,"column":9},"generated":{"line":1,"column":2122}},{"source":"../../lib/components/location-box.js","name":"ls","original":{"line":95,"column":9},"generated":{"line":1,"column":2127}},{"source":"../../lib/components/location-box.js","name":"css","original":{"line":95,"column":12},"generated":{"line":1,"column":2130}},{"source":"../../lib/components/location-box.js","original":{"line":95,"column":16},"generated":{"line":1,"column":2134}},{"source":"../../lib/components/location-box.js","original":{"line":95,"column":27},"generated":{"line":1,"column":2144}},{"source":"../../lib/components/location-box.js","name":"on","original":{"line":95,"column":32},"generated":{"line":1,"column":2149}},{"source":"../../lib/components/location-box.js","original":{"line":95,"column":35},"generated":{"line":1,"column":2152}},{"source":"../../lib/components/location-box.js","original":{"line":95,"column":44},"generated":{"line":1,"column":2160}},{"source":"../../lib/components/location-box.js","name":"evt","original":{"line":95,"column":45},"generated":{"line":1,"column":2169}},{"source":"../../lib/components/location-box.js","name":"navigator","original":{"line":96,"column":10},"generated":{"line":1,"column":2172}},{"source":"../../lib/components/location-box.js","name":"geolocation","original":{"line":96,"column":20},"generated":{"line":1,"column":2182}},{"source":"../../lib/components/location-box.js","name":"navigator","original":{"line":97,"column":8},"generated":{"line":1,"column":2195}},{"source":"../../lib/components/location-box.js","name":"geolocation","original":{"line":97,"column":18},"generated":{"line":1,"column":2205}},{"source":"../../lib/components/location-box.js","name":"getCurrentPosition","original":{"line":97,"column":30},"generated":{"line":1,"column":2217}},{"source":"../../lib/components/location-box.js","original":{"line":97,"column":49},"generated":{"line":1,"column":2236}},{"source":"../../lib/components/location-box.js","name":"position","original":{"line":97,"column":58},"generated":{"line":1,"column":2245}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":98,"column":16},"generated":{"line":1,"column":2248}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":98,"column":16},"generated":{"line":1,"column":2252}},{"source":"../../lib/components/location-box.js","name":"position","original":{"line":98,"column":22},"generated":{"line":1,"column":2254}},{"source":"../../lib/components/location-box.js","name":"coords","original":{"line":98,"column":31},"generated":{"line":1,"column":2256}},{"source":"../../lib/components/location-box.js","name":"latitude","original":{"line":98,"column":38},"generated":{"line":1,"column":2263}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":99,"column":16},"generated":{"line":1,"column":2272}},{"source":"../../lib/components/location-box.js","name":"position","original":{"line":99,"column":22},"generated":{"line":1,"column":2274}},{"source":"../../lib/components/location-box.js","name":"coords","original":{"line":99,"column":31},"generated":{"line":1,"column":2276}},{"source":"../../lib/components/location-box.js","name":"longitude","original":{"line":99,"column":38},"generated":{"line":1,"column":2283}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":100,"column":16},"generated":{"line":1,"column":2293}},{"source":"../../lib/components/location-box.js","original":{"line":100,"column":29},"generated":{"line":1,"column":2295}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":101,"column":23},"generated":{"line":1,"column":2296}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":101,"column":23},"generated":{"line":1,"column":2304}},{"source":"../../lib/components/location-box.js","original":{"line":101,"column":29},"generated":{"line":1,"column":2306}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":101,"column":35},"generated":{"line":1,"column":2310}},{"source":"../../lib/components/location-box.js","original":{"line":102,"column":18},"generated":{"line":1,"column":2312}},{"source":"../../lib/components/location-box.js","original":{"line":102,"column":18},"generated":{"line":1,"column":2315}},{"source":"../../lib/components/location-box.js","original":{"line":103,"column":21},"generated":{"line":1,"column":2318}},{"source":"../../lib/components/location-box.js","original":{"line":103,"column":21},"generated":{"line":1,"column":2324}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":104,"column":21},"generated":{"line":1,"column":2325}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":104,"column":21},"generated":{"line":1,"column":2329}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":105,"column":21},"generated":{"line":1,"column":2331}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":105,"column":21},"generated":{"line":1,"column":2335}},{"source":"../../lib/components/location-box.js","name":"url","original":{"line":109,"column":14},"generated":{"line":1,"column":2339}},{"source":"../../lib/components/location-box.js","original":{"line":109,"column":20},"generated":{"line":1,"column":2341}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":109,"column":63},"generated":{"line":1,"column":2382}},{"source":"../../lib/components/location-box.js","original":{"line":109,"column":69},"generated":{"line":1,"column":2384}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":109,"column":79},"generated":{"line":1,"column":2392}},{"source":"../../lib/components/location-box.js","name":"$","original":{"line":110,"column":10},"generated":{"line":1,"column":2394}},{"source":"../../lib/components/location-box.js","name":"getJSON","original":{"line":110,"column":12},"generated":{"line":1,"column":2396}},{"source":"../../lib/components/location-box.js","name":"url","original":{"line":110,"column":20},"generated":{"line":1,"column":2404}},{"source":"../../lib/components/location-box.js","original":{"line":110,"column":25},"generated":{"line":1,"column":2406}},{"source":"../../lib/components/location-box.js","name":"place","original":{"line":110,"column":26},"generated":{"line":1,"column":2415}},{"source":"../../lib/components/location-box.js","original":{"line":111,"column":16},"generated":{"line":1,"column":2418}},{"source":"../../lib/components/location-box.js","name":"place","original":{"line":111,"column":17},"generated":{"line":1,"column":2421}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":111,"column":23},"generated":{"line":1,"column":2423}},{"source":"../../lib/components/location-box.js","original":{"line":111,"column":57},"generated":{"line":1,"column":2431}},{"source":"../../lib/components/location-box.js","name":"place","original":{"line":111,"column":33},"generated":{"line":1,"column":2435}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":111,"column":39},"generated":{"line":1,"column":2437}},{"source":"../../lib/components/location-box.js","name":"length","original":{"line":111,"column":46},"generated":{"line":1,"column":2444}},{"source":"../../lib/components/location-box.js","original":{"line":111,"column":16},"generated":{"line":1,"column":2451}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":112,"column":18},"generated":{"line":1,"column":2452}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":112,"column":18},"generated":{"line":1,"column":2456}},{"source":"../../lib/components/location-box.js","name":"place","original":{"line":112,"column":27},"generated":{"line":1,"column":2458}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":112,"column":33},"generated":{"line":1,"column":2460}},{"source":"../../lib/components/location-box.js","original":{"line":112,"column":40},"generated":{"line":1,"column":2467}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":113,"column":12},"generated":{"line":1,"column":2470}},{"source":"../../lib/components/location-box.js","name":"display","original":{"line":113,"column":23},"generated":{"line":1,"column":2472}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":114,"column":14},"generated":{"line":1,"column":2480}},{"source":"../../lib/components/location-box.js","name":"admin_district","original":{"line":114,"column":21},"generated":{"line":1,"column":2482}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":114,"column":39},"generated":{"line":1,"column":2498}},{"source":"../../lib/components/location-box.js","name":"admin_district","original":{"line":114,"column":46},"generated":{"line":1,"column":2500}},{"source":"../../lib/components/location-box.js","original":{"line":114,"column":61},"generated":{"line":1,"column":2515}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":115,"column":14},"generated":{"line":1,"column":2519}},{"source":"../../lib/components/location-box.js","name":"outcode","original":{"line":115,"column":21},"generated":{"line":1,"column":2521}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":116,"column":14},"generated":{"line":1,"column":2530}},{"source":"../../lib/components/location-box.js","name":"country","original":{"line":116,"column":21},"generated":{"line":1,"column":2532}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":116,"column":32},"generated":{"line":1,"column":2541}},{"source":"../../lib/components/location-box.js","name":"country","original":{"line":116,"column":39},"generated":{"line":1,"column":2543}},{"source":"../../lib/components/location-box.js","original":{"line":116,"column":47},"generated":{"line":1,"column":2551}},{"source":"../../lib/components/location-box.js","original":{"line":117,"column":14},"generated":{"line":1,"column":2555}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":118,"column":12},"generated":{"line":1,"column":2574}},{"source":"../../lib/components/location-box.js","name":"display","original":{"line":118,"column":23},"generated":{"line":1,"column":2576}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":118,"column":33},"generated":{"line":1,"column":2584}},{"source":"../../lib/components/location-box.js","name":"display","original":{"line":118,"column":44},"generated":{"line":1,"column":2586}},{"source":"../../lib/components/location-box.js","name":"replace","original":{"line":118,"column":52},"generated":{"line":1,"column":2594}},{"source":"../../lib/components/location-box.js","original":{"line":118,"column":60},"generated":{"line":1,"column":2602}},{"source":"../../lib/components/location-box.js","original":{"line":118,"column":69},"generated":{"line":1,"column":2610}},{"source":"../../lib/components/location-box.js","name":"replace","original":{"line":118,"column":73},"generated":{"line":1,"column":2614}},{"source":"../../lib/components/location-box.js","original":{"line":118,"column":81},"generated":{"line":1,"column":2622}},{"source":"../../lib/components/location-box.js","original":{"line":118,"column":93},"generated":{"line":1,"column":2633}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":119,"column":12},"generated":{"line":1,"column":2637}},{"source":"../../lib/components/location-box.js","name":"district","original":{"line":119,"column":23},"generated":{"line":1,"column":2639}},{"source":"../../lib/components/location-box.js","name":"result","original":{"line":119,"column":34},"generated":{"line":1,"column":2648}},{"source":"../../lib/components/location-box.js","name":"admin_district","original":{"line":119,"column":41},"generated":{"line":1,"column":2650}},{"source":"../../lib/components/location-box.js","original":{"line":119,"column":56},"generated":{"line":1,"column":2665}},{"source":"../../lib/components/location-box.js","name":"replace","original":{"line":119,"column":59},"generated":{"line":1,"column":2668}},{"source":"../../lib/components/location-box.js","original":{"line":119,"column":67},"generated":{"line":1,"column":2676}},{"source":"../../lib/components/location-box.js","original":{"line":119,"column":76},"generated":{"line":1,"column":2684}},{"source":"../../lib/components/location-box.js","name":"replace","original":{"line":119,"column":80},"generated":{"line":1,"column":2688}},{"source":"../../lib/components/location-box.js","original":{"line":119,"column":88},"generated":{"line":1,"column":2696}},{"source":"../../lib/components/location-box.js","original":{"line":119,"column":100},"generated":{"line":1,"column":2707}},{"source":"../../lib/components/location-box.js","name":"comp","original":{"line":120,"column":12},"generated":{"line":1,"column":2711}},{"source":"../../lib/components/location-box.js","name":"typeaheadSelect","original":{"line":120,"column":17},"generated":{"line":1,"column":2713}},{"source":"../../lib/components/location-box.js","name":"evt","original":{"line":120,"column":33},"generated":{"line":1,"column":2729}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":120,"column":38},"generated":{"line":1,"column":2731}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2741}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2748}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2750}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2752}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2753}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2754}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":2758}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":127,"column":18},"generated":{"line":1,"column":2776}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":127,"column":18},"generated":{"line":1,"column":2782}},{"source":"../../lib/components/location-box.js","name":"ev","original":{"line":127,"column":18},"generated":{"line":1,"column":2791}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":127,"column":22},"generated":{"line":1,"column":2793}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":129,"column":8},"generated":{"line":1,"column":2796}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":129,"column":22},"generated":{"line":1,"column":2799}},{"source":"../../lib/components/location-box.js","name":"point","original":{"line":129,"column":33},"generated":{"line":1,"column":2801}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":129,"column":42},"generated":{"line":1,"column":2808}},{"source":"../../lib/components/location-box.js","name":"point","original":{"line":129,"column":53},"generated":{"line":1,"column":2810}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":129,"column":59},"generated":{"line":1,"column":2816}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":130,"column":11},"generated":{"line":1,"column":2821}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":130,"column":11},"generated":{"line":1,"column":2826}},{"source":"../../lib/components/location-box.js","name":"typeahead","original":{"line":130,"column":19},"generated":{"line":1,"column":2834}},{"source":"../../lib/components/location-box.js","original":{"line":130,"column":29},"generated":{"line":1,"column":2844}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":130,"column":36},"generated":{"line":1,"column":2850}},{"source":"../../lib/components/location-box.js","name":"display","original":{"line":130,"column":47},"generated":{"line":1,"column":2852}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":131,"column":11},"generated":{"line":1,"column":2861}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":131,"column":11},"generated":{"line":1,"column":2866}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":131,"column":15},"generated":{"line":1,"column":2870}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":131,"column":19},"generated":{"line":1,"column":2874}},{"source":"../../lib/components/location-box.js","name":"point","original":{"line":131,"column":30},"generated":{"line":1,"column":2876}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":131,"column":36},"generated":{"line":1,"column":2882}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":132,"column":11},"generated":{"line":1,"column":2887}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":132,"column":11},"generated":{"line":1,"column":2892}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":132,"column":15},"generated":{"line":1,"column":2896}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":132,"column":19},"generated":{"line":1,"column":2900}},{"source":"../../lib/components/location-box.js","name":"point","original":{"line":132,"column":30},"generated":{"line":1,"column":2902}},{"source":"../../lib/components/location-box.js","name":"lon","original":{"line":132,"column":36},"generated":{"line":1,"column":2908}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":133,"column":11},"generated":{"line":1,"column":2913}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":133,"column":11},"generated":{"line":1,"column":2918}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":133,"column":14},"generated":{"line":1,"column":2921}},{"source":"../../lib/components/location-box.js","name":"suggestion","original":{"line":133,"column":18},"generated":{"line":1,"column":2925}},{"source":"../../lib/components/location-box.js","name":"district","original":{"line":133,"column":29},"generated":{"line":1,"column":2927}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":135,"column":11},"generated":{"line":1,"column":2939}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":135,"column":11},"generated":{"line":1,"column":2944}},{"source":"../../lib/components/location-box.js","name":"typeahead","original":{"line":135,"column":19},"generated":{"line":1,"column":2952}},{"source":"../../lib/components/location-box.js","original":{"line":135,"column":29},"generated":{"line":1,"column":2962}},{"source":"../../lib/components/location-box.js","original":{"line":135,"column":36},"generated":{"line":1,"column":2968}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":136,"column":11},"generated":{"line":1,"column":2972}},{"source":"../../lib/components/location-box.js","name":"lat","original":{"line":136,"column":11},"generated":{"line":1,"column":2977}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":136,"column":15},"generated":{"line":1,"column":2981}},{"source":"../../lib/components/location-box.js","original":{"line":136,"column":19},"generated":{"line":1,"column":2985}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":137,"column":11},"generated":{"line":1,"column":2989}},{"source":"../../lib/components/location-box.js","name":"lng","original":{"line":137,"column":11},"generated":{"line":1,"column":2994}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":137,"column":15},"generated":{"line":1,"column":2998}},{"source":"../../lib/components/location-box.js","original":{"line":137,"column":19},"generated":{"line":1,"column":3002}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":138,"column":11},"generated":{"line":1,"column":3006}},{"source":"../../lib/components/location-box.js","name":"la","original":{"line":138,"column":11},"generated":{"line":1,"column":3011}},{"source":"../../lib/components/location-box.js","name":"val","original":{"line":138,"column":14},"generated":{"line":1,"column":3014}},{"source":"../../lib/components/location-box.js","original":{"line":138,"column":18},"generated":{"line":1,"column":3018}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":140,"column":9},"generated":{"line":1,"column":3023}},{"source":"../../lib/components/location-box.js","name":"textbox","original":{"line":140,"column":9},"generated":{"line":1,"column":3028}},{"source":"../../lib/components/location-box.js","name":"typeahead","original":{"line":140,"column":17},"generated":{"line":1,"column":3036}},{"source":"../../lib/components/location-box.js","original":{"line":140,"column":27},"generated":{"line":1,"column":3046}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":3059}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":3061}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":3064}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":3072}},{"source":"../../lib/components/location-box.js","original":{"line":141,"column":3},"generated":{"line":1,"column":3093}}],"sources":{"../../lib/components/location-box.js":"import {MDCTextFieldIcon} from '@material/textfield/icon';\n\n//require('imports-loader?define=>false!typeahead.js/dist/typeahead.jquery.min.js');\n//const Bloodhound = require('imports-loader?define=>false!typeahead.js/dist/bloodhound.min.js');\nrequire('typeahead.js/dist/typeahead.jquery.min.js');\nconst Bloodhound = require('typeahead.js/dist/bloodhound.min.js');\n\nexport class LocationBoxComponent {\n  constructor(textbox) {\n    this.textbox = $(textbox);\n    this.config = this.textbox.data('location-search');\n    this.lat = $(this.config.latSelector);\n    this.lng = $(this.config.lngSelector);\n    this.la = $(this.config.laSelector);\n    this.ls = $(this.config.locationServicesSelector);\n\n    this.icon = new MDCTextFieldIcon(this.ls[0]);\n    this.defaultOption = null;\n\n    this.bloodhound = new Bloodhound({\n      datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),\n      queryTokenizer: Bloodhound.tokenizers.whitespace,\n      remote: {\n        url: '/geo-lookup?q=%QUERY',\n        wildcard: '%QUERY',\n        transform: (res) => {\n          this.defaultOption = (Array.isArray(res) && res.length > 0) ? res[0] : null;\n          return res;\n        }\n      }\n    });\n\n    this.textbox.typeahead(null, {\n      name: 'location',\n      display: 'display',\n      source: this.bloodhound\n    });\n\n    this.textbox\n      .on('typeahead:select', (ev, suggestion) => {\n        this.autocompleted = true;\n        console.log('typeahead:select', ev, suggestion);\n        this.typeaheadSelect(ev, suggestion);\n      })\n      .on('typeahead:autocomplete', (ev, suggestion) => {\n        this.autocompleted = true;\n        console.log('typeahead:autocomplete', ev, suggestion);\n        this.typeaheadSelect(ev, suggestion);\n      })\n      .on('blur', (ev) => {\n        var menuOpen =\n          this.textbox.parent().find('.tt-open').length > 0 &&\n          this.textbox.parent().find('.tt-empty').length === 0;\n        console.log('Menu open', menuOpen);\n        if (this.autocompleted) {\n          ev.preventDefault();\n        } else if (menuOpen && this.defaultOption) {\n          ev.preventDefault();\n          this.typeaheadSelect(ev, this.defaultOption);\n        }\n        this.autocompleted = false;\n      })\n      .on('keydown', (ev) => {\n        switch (ev.keyCode) {\n          case (9):\n            var menuOpen =\n              this.textbox.parent().find('.tt-open').length > 0 &&\n              this.textbox.parent().find('.tt-empty').length === 0;\n            console.log('Menu open', menuOpen);\n            if (this.autocompleted) {\n              ev.preventDefault();\n            } else if (menuOpen && this.defaultOption) {\n              ev.preventDefault();\n              this.typeaheadSelect(ev, this.defaultOption);\n            }\n            break;\n          case (13):\n            var menuOpen =\n              this.textbox.parent().find('.tt-open').length > 0 &&\n              this.textbox.parent().find('.tt-empty').length === 0;\n            console.log('Menu open', menuOpen);\n            if (this.autocompleted) {\n              ev.preventDefault();\n            } else if (menuOpen && this.defaultOption) {\n              ev.preventDefault();\n              this.typeaheadSelect(ev, this.defaultOption);\n            }\n            break;\n        }\n        this.autocompleted = false;\n      });\n\n    const comp = this;\n\n    this.ls.css('z-index', 500).on('click', (evt) => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n          const lat = position.coords.latitude;\n          const lon = position.coords.longitude;\n          const suggestion = {\n            \"display\": lat + \",\" + lon,\n            \"la\": \"\",\n            \"point\": {\n              \"lat\": lat,\n              \"lon\": lon\n            }\n          };\n\n          var url = 'https://api.postcodes.io/outcodes?lat=' + lat + '&lon=' + lon;\n          $.getJSON(url, (place) => {\n            if (!place.result || place.result.length === 0) return;\n            const result = place.result[0];\n            suggestion.display =\n              result.admin_district && result.admin_district[0] ||\n              result.outcode ||\n              result.country && result.country[0] ||\n              'Current location';\n            suggestion.display = suggestion.display.replace(' City', '').replace('City of ', '');\n            suggestion.district = result.admin_district[0].replace(' City', '').replace('City of ', '');\n            comp.typeaheadSelect(evt, suggestion);\n          });\n        });\n      }\n    });\n  }\n\n  typeaheadSelect(ev, suggestion) {\n    // console.log('typeaheadSelect', ev, suggestion);\n    if (suggestion && suggestion.point && suggestion.point.lat) {\n      this.textbox.typeahead('val', suggestion.display);\n      this.lat.val(suggestion.point.lat);\n      this.lng.val(suggestion.point.lon);\n      this.la.val(suggestion.district);\n    } else {\n      this.textbox.typeahead('val', '');\n      this.lat.val('');\n      this.lng.val('');\n      this.la.val('');\n    }\n    this.textbox.typeahead('close');\n  }\n}"},"lineCount":null}},"hash":"08f557ae00b6f9445008219c1eaafec4","cacheData":{"env":{}}}