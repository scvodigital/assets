<div id="detailed-results-container" class="container-content content-hours">

  <h1 class="mdc-typography--headline4">
    Your Tasks
  </h1>

  <div class="mdc-typography--headline7 b-margin-full">
    {{sumArray (pluck @root.data.tasksInfo "hours")}} total hours given so far!
  </div>

  <div class="mdc-layout-grid">
    <div class="mdc-layout-grid__inner">
      <div class="b-margin-full mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone">
        <a href="/task" class="mdc-button mdc-button--raised">Add new task</a>
      </div>
    </div>
      {{#each @root.data.tasksInfo}}
    <div class="mdc-layout-grid__inner">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone">
        <strong>{{task_name}}</strong> with <strong>{{organisation_name}}</strong>

        <form action="/submit-hours" method="POST">
          {{hours}} hours given so far.
          <input type="hidden" name="task_id" value="{{taskId}}">
          <input type="number" step="any" min="0" name="hours">
          <button type="submit" class="mdc-button mdc-button--raised">Add hours</button>
        </form>
      </div>
    </div>
    {{/each}}
  {{!-- This will probably have a captcha in it, hence the separation, and weird submit format --}}
</div>


{{!--
--}}
{{!-- <script src="https://www.google.com/recaptcha/api.js" async defer></script> --}}
<script>
  function preSubmit() {
    var form = document.getElementById("user-details-form");
    var isValid = form.checkValidity();
    if (isValid) {
      onSubmit();
    }

  }
  function onSubmit() {
  }
</script>